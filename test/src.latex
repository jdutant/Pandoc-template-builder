$ first-partial.latex() $
$if(condition)$
$some$$variable$
$endif$
$secondpartial.latex()$
$for(item)$
$it.variable$$sep$, 
$endfor$
$  third_partial.latex()  $

Try again with an alternative syntax:

${first-partial.latex()}
$if(condition)$
$some$$variable$
$endif$
${  secondpartial.latex()  }
$for(item)$
$it.variable$$sep$, 
$endfor$
${ third_partial.latex() }